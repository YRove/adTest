webpackJsonp([1],{"/SRA":function(e,t){},"4/hK":function(e,t){},"595r":function(e,t){},"8Fv9":function(e,t){},B3Hi:function(e,t){},Cli8:function(e,t){},GEvZ:function(e,t){},Jajz:function(e,t){},LJ2z:function(e,t,a){e.exports=a.p+"static/img/logo1.60ea8db.png"},LgnU:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i=a("mtWM"),r=a.n(i),o={install(e,t){e.prototype.getSelectData=function(e){return"protocolTypes"===e?l:"connectTypes"===e?n:"limitCounts"===e?u:"sendDataTypes"===e?c:"propertiesConfigs"===e?m:"tempTypes"===e?d:"transPropertiesConfigs"===e?p:void 0}}};const l=[{value:"HTTP",label:"HTTP"},{value:"HTTPS",label:"HTTPS"}],n=[{value:"CLIENT",label:"客户端"},{value:"SERVER",label:"服务端"}],d=[{value:"TEXT",label:"TEXT"},{value:"BYTE",label:"BYTE"}],u=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"300",label:"300"},{value:"400",label:"400"},{value:"500",label:"500"}],c=[{value:"TEXT",label:"TEXT"},{value:"BYTE",label:"BYTE"}],m=[{value:"RECV_CHARSET",label:"接收字符编码类型"},{value:"HTTP_REQ_TYPE",label:"HTTP请求类型"},{value:"IS_REDIRECT",label:"是否进行重定向"},{value:"HTTPS_SCHEMA",label:"HTTPS自定义协议类型，默认为渠道系统编号"},{value:"SSL_CERT_PWD_TYPE",label:"HTTPS使用的SSL证书的密码在BCM中的类型"},{value:"SSL_KEY_PWD_BCM_CODE",label:"HTTPS使用的证书的私钥密码在BCM中的编目"},{value:"SSL_KEY_PWD_TYPE",label:"HTTPS使用的证书的私钥密码在BCM中的类型"},{value:"ERROR_REDIRECT_URL",label:"错误的重定向地址"},{value:"NEED_COOKIE_CLEAR",label:"是否需要清空Cookie"},{value:"NEED_TRUST_KS",label:"需要信任证书"},{value:"HALF_DUPLEX",label:"是否是半双工模式"},{value:"SSL_PROTOCOL",label:"SSL协议类型"}],p=[{value:"DATE_UNIQ",label:"需要补充日期唯一性"},{value:"AUTO_LOGON=AUTO_LOGON",label:"需要自动签到"},{value:"ASYNC_TRANS_SYNC_TIMES",label:"异步转同步轮询次数"},{value:"ENCRYPT_NOTIFY_MSG",label:"需要加密通知消息"},{value:"LOG_TERM_TRANS",label:"是否需要记录终端流水信息"},{value:"NEED_ORG_TERM_TRANS",label:"是否需要原终端流水信息"},{value:"UPDATE_CURRENT_TERM_TRANS",label:"是否需要更新当前终端流水信息"},{value:"UPDATE_ORG_TERM_TRANS",label:"是否需要更新原终端流水信息"},{value:"FLUX_DIRECTION",label:"交易码对应流水方向"},{value:"ORG_FLUX_DIRECTION",label:"原交易流水方向"},{value:"UNIQ_REENTRY_TRANS",label:"幂等重入是否需要支持"},{value:"NOT_NEED_NOTIFY_SYSTEM",label:"不需要通知内部系统"},{value:"TRANS_LIMIT_TOKEN_COUNT",label:"交易限流数"},{value:"LB",label:"分流标识"},{value:"IS_STANDED_LICAICHANNEL",label:"是否是理财标准机构"},{value:"LICAI_STANDED_TRANS_CODE",label:"理财标准交易代号"},{value:"IS_BATCH_TRANS_CODE",label:"是否是批量交易"},{value:"BATCH_TRANS_LIMIT_COUNT",label:"批量交易支持最大笔数"}];var h={data:()=>({data:[],pagesize:10,crossId:1}),created(){},mounted(){this.init()},methods:{init(){},toDetail(e){this.$router.push({path:`/index/${e}`}),this.crossId=e},hideLoading(){this.loading=!1},handleCommand(e){"logout"===e&&r.a.get("/logout").then(e=>{if("0"!==e.data.resultCode)return this.$message.warning("登出失败！"),!1;this.$message.warning("登出成功！"),this.$router.push({path:"/login"})})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",{staticStyle:{"font-size":"14px",width:"100%"}},[a("router-link",{attrs:{to:{path:"/first"}}},[a("span",{staticClass:"el-header-index"},[a("i",{staticClass:"el-icon-star-on"}),e._v("首页")])]),e._v(" "),a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("查看个人信息")]),e._v(" "),a("el-dropdown-item",[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.handleCommand("logout")}}},[e._v("退出登录")])],1)],1),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v("管理员")])],1)},staticRenderFns:[]};var b=a("VU/8")(h,v,!1,function(e){a("uzjV"),a("GEvZ")},"data-v-8af912e4",null).exports,f=(a("erWL"),{name:"App",isShowHeader:!1,components:{index:b},created(){this.init()},watch:{$route(e){null==this.$route.name&&(this.isShowHeader=!1),"login"!=e.name&&"404"!=e.name&&"managelogin"!=e.name?this.isShowHeader=!0:this.isShowHeader=!1}},methods:{init(){null==this.$route.name&&(this.isShowHeader=!1),"login"!=this.$route.name&&"notFound"!=this.$route.name&&"managelogin"!=this.$route.name?this.isShowHeader=!0:this.isShowHeader=!1}}}),g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this.isShowHeader?t("index"):this._e(),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var _=a("VU/8")(f,g,!1,function(e){a("q2mw")},null,null).exports,C=a("/ocq"),y={data:()=>({data:[],pagesize:10,crossId:1}),created(){},mounted(){this.init()},methods:{init(){},toDetail(e){this.$router.push({path:`/index/${e}`}),this.crossId=e},hideLoading(){this.loading=!1},handleCommand(e){"logout"===e&&r.a.get("/logout").then(e=>{if("0"!==e.data.resultCode)return this.$message.warning("登出失败！"),!1;this.$message.warning("登出成功！"),this.$router.push({path:"/login"})})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",{staticStyle:{"font-size":"14px",width:"100%"}},[a("router-link",{attrs:{to:{path:"/first"}}},[a("span",{staticClass:"el-header-index"},[a("i",{staticClass:"el-icon-star-on"}),e._v("首页")])]),e._v(" "),a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("查看个人信息")]),e._v(" "),a("el-dropdown-item",[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.handleCommand("logout")}}},[e._v("退出登录")])],1)],1),e._v(" "),a("span",{staticStyle:{float:"right"}},[e._v("管理员")])],1)},staticRenderFns:[]};var $={components:{header:a("VU/8")(y,x,!1,function(e){a("Jajz"),a("8Fv9")},"data-v-782bdc79",null).exports}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"fronthome"}},[t("header"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var T=a("VU/8")($,k,!1,function(e){a("XP4N")},"data-v-aead48e4",null).exports,S={data:()=>({ruleForm:{name:"",type:[],ill:[],sex:"",desc:"",age:"",telp:"",education:"",community:"",isMotion:"",isSmoke:"",isDrink:"",isMemoryDown:""},rules:{name:[{required:!0,message:"请输入您的名字",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],type:[{type:"array",required:!0,message:"请选择您患有的慢性病症或无",trigger:"change"}],ill:[{type:"array",required:!0,message:"请选择您患有的影响认知功能疾病史或无",trigger:"change"}],sex:[{required:!0,message:"请选择您的性别",trigger:"change"}],age:[{required:!0,message:"请输入您的年龄",trigger:"blur"}],telp:[{required:!0,message:"请输入您的联系方式",trigger:"blur"}],education:[{required:!0,message:"请选择您的文化程度",trigger:"change"}],community:[{required:!0,message:"请输入您所属的社区",trigger:"blur"}],isMotion:[{required:!0,message:"请选择您是否规律参加体育锻炼",trigger:"change"}],isSmoke:[{required:!0,message:"请选择您是否吸烟",trigger:"change"}],isDrink:[{required:!0,message:"请选择您是否饮酒",trigger:"change"}],isMemoryDown:[{required:!0,message:"您近年来是否存在记忆明显下降现象？",trigger:"change"}],desc:[{required:!0,message:"请填写所了解的知识",trigger:"blur"}]}}),methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm(e){this.$refs[e].resetFields()}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-information"},[a("div",{staticClass:"base-title"},[e._v("个人基本情况统计表")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm form-border",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"1、姓名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"2、性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"3、年龄",prop:"age"}},[a("el-input",{model:{value:e.ruleForm.age,callback:function(t){e.$set(e.ruleForm,"age",t)},expression:"ruleForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"4、联系电话",prop:"telp"}},[a("el-input",{model:{value:e.ruleForm.telp,callback:function(t){e.$set(e.ruleForm,"telp",t)},expression:"ruleForm.telp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"5、文化程度",prop:"education"}},[a("el-radio-group",{model:{value:e.ruleForm.education,callback:function(t){e.$set(e.ruleForm,"education",t)},expression:"ruleForm.education"}},[a("el-radio",{attrs:{label:"小学"}}),e._v(" "),a("el-radio",{attrs:{label:"初中"}}),e._v(" "),a("el-radio",{attrs:{label:"高中或者中专"}}),e._v(" "),a("el-radio",{attrs:{label:"大专"}}),e._v(" "),a("el-radio",{attrs:{label:"本科及以上"}}),e._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"6、所属社区",prop:"community"}},[a("el-input",{model:{value:e.ruleForm.community,callback:function(t){e.$set(e.ruleForm,"community",t)},expression:"ruleForm.community"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type"}},[a("div",{staticClass:"label-surplus"},[e._v("7、您患有慢性病症吗?")]),e._v(" "),a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"无",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"高血压",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"冠心病",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"糖尿病",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"高脂血症",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"慢性支气管炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脂肪肝",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"肥胖",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"关节炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"慢性胃炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑卒中",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"其他",name:"type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isMotion"}},[a("div",{staticClass:"label-surplus"},[e._v("8、您规律参加体育锻炼吗?")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isMotion,callback:function(t){e.$set(e.ruleForm,"isMotion",t)},expression:"ruleForm.isMotion"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isSmoke"}},[a("div",{staticClass:"label-surplus"},[e._v("9、您是否吸烟 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isSmoke,callback:function(t){e.$set(e.ruleForm,"isSmoke",t)},expression:"ruleForm.isSmoke"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}}),e._v(" "),a("el-radio",{attrs:{label:"偶尔吸烟"}}),e._v(" "),a("el-radio",{attrs:{label:"已戒"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isDrink"}},[a("div",{staticClass:"label-surplus"},[e._v("10、您是否饮酒 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isDrink,callback:function(t){e.$set(e.ruleForm,"isDrink",t)},expression:"ruleForm.isDrink"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}}),e._v(" "),a("el-radio",{attrs:{label:"很少"}}),e._v(" "),a("el-radio",{attrs:{label:"已戒"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isMemoryDown"}},[a("div",{staticClass:"label-surplus"},[e._v("11、近年来是否存在记忆明显下降现象 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isMemoryDown,callback:function(t){e.$set(e.ruleForm,"isMemoryDown",t)},expression:"ruleForm.isMemoryDown"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"ill"}},[a("div",{staticClass:"label-surplus"},[e._v("12、是否有以下影响认知功能疾病史 :")]),e._v(" "),a("el-checkbox-group",{model:{value:e.ruleForm.ill,callback:function(t){e.$set(e.ruleForm,"ill",t)},expression:"ruleForm.ill"}},[a("el-checkbox",{attrs:{label:"无",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"头部外伤或手术史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑出血或脑梗塞史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑部肿瘤、帕金森病",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"狂躁、谵妄等精神疾病史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"其他",name:"ill"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"desc"}},[a("div",{staticClass:"label-surplus"},[e._v("13、对于阿尔茨海默病有哪些想要了解的知识 :")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(S,w,!1,function(e){a("LgnU")},null,null).exports,F={data:()=>({ruleForm:{name:"",type:[],ill:[],sex:"",desc:"",age:"",telp:"",education:"",community:"",isMotion:"",isSmoke:"",isDrink:"",isMemoryDown:""},rules:{name:[{required:!0,message:"请输入您的名字",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],type:[{type:"array",required:!0,message:"请选择您患有的慢性病症或无",trigger:"change"}],ill:[{type:"array",required:!0,message:"请选择您患有的影响认知功能疾病史或无",trigger:"change"}],sex:[{required:!0,message:"请选择您的性别",trigger:"change"}],age:[{required:!0,message:"请输入您的年龄",trigger:"blur"}],telp:[{required:!0,message:"请输入您的联系方式",trigger:"blur"}],education:[{required:!0,message:"请选择您的文化程度",trigger:"change"}],community:[{required:!0,message:"请输入您所属的社区",trigger:"blur"}],isMotion:[{required:!0,message:"请选择您是否规律参加体育锻炼",trigger:"change"}],isSmoke:[{required:!0,message:"请选择您是否吸烟",trigger:"change"}],isDrink:[{required:!0,message:"请选择您是否饮酒",trigger:"change"}],isMemoryDown:[{required:!0,message:"您近年来是否存在记忆明显下降现象？",trigger:"change"}],desc:[{required:!0,message:"请填写所了解的知识",trigger:"blur"}]}}),methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm(e){this.$refs[e].resetFields()}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-information"},[a("div",{staticClass:"base-title"},[e._v("个人基本情况统计表")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm form-border",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"1、姓名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"2、性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"3、年龄",prop:"age"}},[a("el-input",{model:{value:e.ruleForm.age,callback:function(t){e.$set(e.ruleForm,"age",t)},expression:"ruleForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"4、联系电话",prop:"telp"}},[a("el-input",{model:{value:e.ruleForm.telp,callback:function(t){e.$set(e.ruleForm,"telp",t)},expression:"ruleForm.telp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"5、文化程度",prop:"education"}},[a("el-radio-group",{model:{value:e.ruleForm.education,callback:function(t){e.$set(e.ruleForm,"education",t)},expression:"ruleForm.education"}},[a("el-radio",{attrs:{label:"小学"}}),e._v(" "),a("el-radio",{attrs:{label:"初中"}}),e._v(" "),a("el-radio",{attrs:{label:"高中或者中专"}}),e._v(" "),a("el-radio",{attrs:{label:"大专"}}),e._v(" "),a("el-radio",{attrs:{label:"本科及以上"}}),e._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"6、所属社区",prop:"community"}},[a("el-input",{model:{value:e.ruleForm.community,callback:function(t){e.$set(e.ruleForm,"community",t)},expression:"ruleForm.community"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type"}},[a("div",{staticClass:"label-surplus"},[e._v("7、您患有慢性病症吗?")]),e._v(" "),a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"无",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"高血压",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"冠心病",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"糖尿病",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"高脂血症",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"慢性支气管炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脂肪肝",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"肥胖",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"关节炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"慢性胃炎",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑卒中",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"其他",name:"type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isMotion"}},[a("div",{staticClass:"label-surplus"},[e._v("8、您规律参加体育锻炼吗?")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isMotion,callback:function(t){e.$set(e.ruleForm,"isMotion",t)},expression:"ruleForm.isMotion"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isSmoke"}},[a("div",{staticClass:"label-surplus"},[e._v("9、您是否吸烟 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isSmoke,callback:function(t){e.$set(e.ruleForm,"isSmoke",t)},expression:"ruleForm.isSmoke"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}}),e._v(" "),a("el-radio",{attrs:{label:"偶尔吸烟"}}),e._v(" "),a("el-radio",{attrs:{label:"已戒"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isDrink"}},[a("div",{staticClass:"label-surplus"},[e._v("10、您是否饮酒 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isDrink,callback:function(t){e.$set(e.ruleForm,"isDrink",t)},expression:"ruleForm.isDrink"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}}),e._v(" "),a("el-radio",{attrs:{label:"很少"}}),e._v(" "),a("el-radio",{attrs:{label:"已戒"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"isMemoryDown"}},[a("div",{staticClass:"label-surplus"},[e._v("11、近年来是否存在记忆明显下降现象 :")]),e._v(" "),a("el-radio-group",{model:{value:e.ruleForm.isMemoryDown,callback:function(t){e.$set(e.ruleForm,"isMemoryDown",t)},expression:"ruleForm.isMemoryDown"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"ill"}},[a("div",{staticClass:"label-surplus"},[e._v("12、是否有以下影响认知功能疾病史 :")]),e._v(" "),a("el-checkbox-group",{model:{value:e.ruleForm.ill,callback:function(t){e.$set(e.ruleForm,"ill",t)},expression:"ruleForm.ill"}},[a("el-checkbox",{attrs:{label:"无",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"头部外伤或手术史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑出血或脑梗塞史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"脑部肿瘤、帕金森病",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"狂躁、谵妄等精神疾病史",name:"ill"}}),e._v(" "),a("el-checkbox",{attrs:{label:"其他",name:"ill"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"desc"}},[a("div",{staticClass:"label-surplus"},[e._v("13、对于阿尔茨海默病有哪些想要了解的知识 :")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")(F,D,!1,function(e){a("Cli8")},null,null).exports;function E(e){this.init(e)}E.prototype.init=function(e){this._initDom(e),this.canvas.width=this.options.canvasWidth,this.canvas.height=this.options.canvasHeight,this._initCir(this.context),this.render()},E.prototype._initDom=function(e){if(this.options={canvasContainerID:"canvas-container",canvasOpacity:.8,circleNum:40,circleColor:"rgba(180,180,180,1)",lineColor:"rgba(180,180,180,1)",circleMovemaxX:2,circleMoveminX:-2,circleMovemaxY:2,circleMoveminY:-2,canvasWidth:document.documentElement.clientWidth||document.body.Width,canvasHeight:document.documentElement.clientHeight||document.body.client},e)for(var t in e)this.options[t]=e[t];var a=document.createElement("canvas");document.getElementById(this.options.canvasContainerID).appendChild(a),a.style.cssText="z-index:-20;position:absolute;left:0;top:0",a.style.opacity=this.options.canvasOpacity,this.canvas=a,this.drawMaxWidth=this.options.canvasWidth+30,this.drawMinWidth=-30,this.drawMaxHeight=this.options.canvasHeight+30,this.drawMinHeight=-30,this.context=this.canvas.getContext("2d"),this.circleArr=[],this.moveArr=[]},E.prototype.random=function(e,t){var a=arguments[1]||0;return Math.floor(Math.random()*(e-a+1)+a)},E.prototype._initCir=function(e){for(var t=0;t<this.options.circleNum;t++){let t=this.random(this.drawMaxWidth,this.drawMinWidth),i=this.random(this.drawMaxHeight,this.drawMinHeight),r=this.random(10);var a=this.drawCircle(e,t,i,r);this.circleArr.push(a);var s={x:Math.random()*(this.options.circleMovemaxX-this.options.circleMoveminX)+this.options.circleMoveminX,y:Math.random()*(this.options.circleMovemaxY-this.options.circleMoveminY)+this.options.circleMoveminY};this.moveArr.push(s)}},E.prototype._initLine=function(e,t,a,s,i,r){var o=new function(e,t,a,s){this.beginX=e,this.beginY=t,this.closeX=a,this.closeY=s}(t,a,s,i);e.beginPath(),e.moveTo(o.beginX,o.beginY),e.lineTo(o.closeX,o.closeY),e.stroke();var l=this.options.lineColor.split(",");e.strokeStyle=l[0]+","+l[1]+","+l[2]+","+r+")",e.closePath()},E.prototype.render=function(){var e=this;e.context.clearRect(0,0,e.options.canvasWidth,e.options.canvasHeight);for(var t=0;t<this.options.circleNum;t++){var a=e.circleArr[t];a.centerX+=e.moveArr[t].x,a.centerY+=e.moveArr[t].y,e.drawCircle(e.context,a.centerX,a.centerY,a.radius),a.centerX<e.drawMinWidth?(a.centerX=e.drawMaxWidth,a.centerY=e.random(e.drawMaxHeight,e.drawMinHeight)):a.centerX>e.drawMaxWidth?(a.centerX=e.drawMinWidth,a.centerY=e.random(e.drawMaxHeight,e.drawMinHeight)):a.centerY<e.drawMinHeight?(a.centerY=e.random(e.drawMaxWidth,e.drawMinWidth),a.centerY=e.drawMaxHeight):a.centerY>e.drawMaxHeight&&(a.centerY=e.random(e.drawMaxWidth,e.drawMinWidth),a.centerY=e.drawMinWidth)}for(var s=0;s<this.options.circleNum;s++)for(var i=0;i<this.options.circleNum;i++){var r=e.circleArr[s].centerX,o=e.circleArr[s].centerY,l=e.circleArr[i].centerX,n=e.circleArr[i].centerY,d=Math.sqrt(Math.abs(l-r)*Math.abs(l-r)+Math.abs(o-n)*Math.abs(o-n));if(d<.3*this.options.canvasWidth||d>1.2*this.options.canvasWidth){var u=1;u=u>.3?.3:u,e._initLine(e.context,r,o,l,n,u)}}setTimeout(function(){e.render()},30)},E.prototype.drawCircle=function(e,t,a,s){var i=new function(e,t,a){this.centerX=e,this.centerY=t,this.radius=a}(t,a,s);return e.beginPath(),e.arc(i.centerX,i.centerY,i.radius,0,2*Math.PI,!0),e.fillStyle=this.options.circleColor,e.fill(),e.closePath(),i};var N={data:()=>({userName:"",passWord:"",logoSrc:a("dLd/")}),methods:{submit(){""!=this.userName&&""!=this.passWord?this.$router.push({path:"/aside",name:"aside"}):this.$message.error("请输入用户名或密码！")}},mounted(){new E({canvasContainerID:"canvas",circleColor:"rgba(0, 0, 205, 1)",lineColor:"rgba(0, 0, 205, 1)",canvasOpacity:.3})}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_page"},[a("div",{staticClass:"login-page-inner"},[a("div",{staticClass:"input-text-wrapper"},[a("div",{staticClass:"login-logo marginB10"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.logoSrc,expression:"logoSrc"}],attrs:{width:"300",alt:"logo"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入账号"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),a("el-input",{staticClass:"marginT10",attrs:{placeholder:"请输入密码",type:"password"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1),e._v(" "),a("div",{staticClass:"input-text-wrapper marginT30 text-center"},[a("el-button",{staticClass:"loginBtn",on:{click:e.submit}},[e._v("登录")])],1),e._v(" "),a("div",{staticClass:"marginT20"},[a("router-link",{staticClass:"note",attrs:{to:"/frontregister"}},[e._v("注册账号")]),e._v(" "),a("router-link",{staticClass:"note  pull-right",attrs:{to:"/login"}},[e._v("普通用户登录")])],1)]),e._v(" "),a("div",{attrs:{id:"canvas"}})])},staticRenderFns:[]};var A=a("VU/8")(N,R,!1,function(e){a("wZyX")},"data-v-285cbd51",null).exports,M={data:()=>({data:[],datas:[],code1:[],code:"",form:{}}),created(){this.code=this.$route.query.institutionCode,this.init(),this.$root.eventHub.$on("onSubmit",()=>{this.init()})},mounted(){},methods:{init(){r.a.get("api/transCode/getTransCodeByInstanceCode",{params:{instanceCode:this.code}}).then(e=>{this.data=e.data.data,this.form=this.$route.params.form,void 0!==this.form&&this.datas.push(this.form),this.selectData(this.code),this.hideLoading()}).catch(e=>{this.hideLoading()})},hideLoading(){this.loading=!0},selectData(e){}},beforeDestroy(){this.$root.eventHub.$off("onSubmit")}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo"},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("记忆力检测模块")]),e._v(" "),a("el-menu-item-group",[a("router-link",{attrs:{to:{path:"/aside/adExamOne",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"1-1"}},[e._v("记忆检测试卷一")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/errorCode",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"1-3"}},[e._v("记忆检测试卷二")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/protocol",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"1-4"}},[e._v("记忆检测试卷三")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/constantValue",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"1-5"}},[e._v("记忆检测试卷四")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/sequence",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"1-6"}},[e._v("记忆检测试卷五")])],1)],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("记忆力训练模块")]),e._v(" "),a("el-menu-item-group",[a("router-link",{attrs:{to:{path:"/aside/newInterface",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"2-1"}},[e._v("记忆力训练")])],1)],1),e._v(" "),e._l(e.data,function(t,s){return a("el-submenu",{key:s,attrs:{index:"1"+s}},[a("template",{slot:"title"},[e._v(e._s(t.transCode))]),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/essentialInformation",query:{institutionCode:e.code,transCode:t.transCode}}}},[a("el-menu-item",{attrs:{index:"2-2"+s}},[e._v("交易基本信息")])],1),e._v(" "),"CLIENT"===t.connectType?a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{institutionCode:e.code,transCode:t.transCode}}}},[a("el-menu-item",{attrs:{index:"2-3"+s}},[e._v("交易路由配置")])],1):e._e(),e._v(" "),"SERVER"===t.connectType?a("router-link",{attrs:{to:{path:"/aside/serverRouteConfiguration",query:{institutionCode:e.code,transCode:t.transCode}}}},[a("el-menu-item",{attrs:{index:"2-3"+s}},[e._v("交易路由配置")])],1):e._e()],2)})],2),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/articlePath",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-star-off"}),e._v("文章模块")])],2)],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/basePersionalInformation",query:{institutionCode:e.code}}}},[a("el-menu-item",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-star-off"}),e._v("个人基本情况表")])],2)],1)],1)],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var U=a("VU/8")(M,V,!1,function(e){a("595r")},"data-v-29eaa7a7",null).exports,z={data:()=>({id:"",dialogVisible:!1,paperData:{name:"早期记忆能力检测试卷",time:"60",totalPoints:""},startTime:"",nowTime:"",examTime:"60",timer:null,singleQuestions:[{name:"lala",type:"judgement",sanswer:"cnjacnlacj",selection:["a","b","c"]}],multiQuestions:[{name:"aaa",type:"judgement",sanswer:"cnjacnlacj",selection:["a","b","c"]}],QAQuestions:[],judgeQuestions:[{name:"aaa",type:"judgement",sanswer:""}],options:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T"],scroll:document.body.scrollTop}),computed:{time:function(){let e=this.examTime,t=0,a=0,s=0;return`${t=Math.floor(e/3600)}小时${a=Math.floor(e/60%60)}分钟${s=Math.floor(e%60)}秒`}},watch:{time(e,t){if("小时分钟秒"==e){this.$message.error("考试时间到，强制提交!");let e=!0;this.submit(e)}}},mounted(){this.nowTime=new Date,this.id=this.$route.params.id,window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{init(){""!=this.id&&this.id?this.$axios.get("/api/getExamInfo",{params:{id:this.id}}).then(e=>{let t=e.data;if("0"==t.status){for(let e in this.paperData)this.paperData[e]=t.result[e];this.startTime=t.result.startTime,this.examTime=60*this.paperData.time-(this.nowTime-new Date(this.startTime))/1e3,this.examTime<=0&&(this.$message.error("考试时间已过!"),this.$router.go(-1)),this.getCode(),t.result._questions.forEach(e=>{"single"==e.type?(e.sanswer="",this.singleQuestions.push(e)):"multi"==e.type?(e.sanswer=[],this.multiQuestions.push(e)):"Q&A"==e.type?(e.sanswer="",this.QAQuestions.push(e)):"judgement"==e.type&&(e.sanswer="",this.judgeQuestions.push(e))})}}).catch(e=>{this.$message.error(e)}):this.$router.push({path:"forntexamindex"})},scrollTop(){let e=setInterval(()=>{let t=document.body.scrollTop||document.documentElement.scrollTop,a=Math.ceil(t/5);document.body.scrollTop=t-a,0===t&&clearInterval(e)},20)},getCode(){const e=this.examTime;this.timer||(this.timer=setInterval(()=>{this.examTime>0&&this.examTime<=e?this.examTime--:(clearInterval(this.timer),this.timer=null)},1e3))},handleScroll(){this.scroll=document.body.scrollTop,this.scroll>250?this.$refs.submitBox.style.top="10px":this.$refs.submitBox.style.top="250px"},submit(e){let t=!0,a=!0,s=!0,i=!0,r=!0;if(this.singleQuestions.some(e=>{a=""==!e.sanswer}),this.multiQuestions.some(e=>{s=0==!e.sanswer.length}),this.judgeQuestions.some(e=>{i=""==!e.sanswer}),this.QAQuestions.some(e=>{r=""==!e.sanswer}),t=!!(a&&s&&i&&r),console.log(t,e),!1===t&&!0!==e)this.$message.warning("考试时间未到，请完成所有题目!");else{let t=0,a=[];this.singleQuestions.forEach(e=>{e.sanswer===e.answer&&(t+=e.score)}),this.multiQuestions.forEach(e=>{e.answer.split(",").equals(e.sanswer)&&(t+=e.score)}),this.judgeQuestions.forEach(e=>{e.sanswer===e.answer&&(t+=e.score)}),this.QAQuestions.length>0&&this.QAQuestions.forEach(e=>{a.push({_question:e._id,answer:e.sanswer})}),!0===e?this.submitApi(t,a):this.$confirm("是否提前交卷？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{this.submitApi(t,a)}).catch(()=>{this.$message({type:"info",message:"已取消操作"})})}},submitApi(e,t){this.$axios.post("/api/submitExam",{id:this.id,score:e,answers:t,startTime:this.startTime}).then(e=>{"0"==e.data.status&&(this.$message.success("提交成功!"),this.$router.push({path:"frontstudentinfo"}))}).catch(e=>{this.$message.error("提交失败，请联系老师!")})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam"},[a("div",{staticClass:"exam-title"},[a("h3",{staticClass:"text-center marginT10"},[e._v(e._s(e.paperData.name))]),e._v(" "),a("div",{staticClass:"text-center marginT10"},[e._v("考试时长："+e._s(e.paperData.time)+"分钟  总分："+e._s(e.paperData.totalPoints)+"分")])]),e._v(" "),a("div",{ref:"submitBox",staticClass:"submit-box"},[a("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交试卷")]),e._v(" "),a("div",{staticClass:"timeout"},[a("p",[e._v("距离考试结束")]),e._v(" "),a("p",[e._v(e._s(e.time))])])],1),e._v(" "),a("div",{staticClass:"main"},[e.singleQuestions.length>0?a("div",{staticClass:"single"},[a("h3",[e._v("一、单选题（只有一个正确答案）")]),e._v(" "),a("ul",{staticClass:"question-item"},e._l(e.singleQuestions,function(t,s){return a("li",{key:t.id,staticClass:"marginB10"},[a("p",{staticClass:"question-title"},[e._v(e._s(s+1)+" 、"+e._s(t.name))]),e._v(" "),e._l(t.selection,function(s,i){return"judgement"!=t.type&&"Q&A"!=t.type?a("span",{key:s.id,staticClass:"option",attrs:{item:""}},[a("el-radio",{key:i,attrs:{label:e.options[i]},model:{value:t.sanswer,callback:function(a){e.$set(t,"sanswer",a)},expression:"item.sanswer"}},[e._v("\n                  "+e._s(e.options[i])+"、"+e._s(s)+"\n                  ")])],1):e._e()})],2)}))]):e._e(),e._v(" "),e.multiQuestions.length>0?a("div",{staticClass:"multi"},[a("h3",[e._v("二、多选题（有多个正确答案）")]),e._v(" "),a("ul",{staticClass:"question-item"},e._l(e.multiQuestions,function(t,s){return a("li",{key:t.id,staticClass:"marginB10"},[a("p",{staticClass:"question-title"},[e._v(e._s(s+1)+" 、"+e._s(t.name))]),e._v(" "),e._l(t.selection,function(s,i){return"judgement"!=t.type&&"Q&A"!=t.type?a("span",{key:s.id,staticClass:"option",attrs:{item:""}},[a("el-checkbox",{key:i,attrs:{label:e.options[i]},model:{value:t.sanswer,callback:function(a){e.$set(t,"sanswer",a)},expression:"item.sanswer"}},[e._v("\n              "+e._s(e.options[i])+"、"+e._s(s)+"\n              ")])],1):e._e()})],2)}))]):e._e(),e._v(" "),e.judgeQuestions.length>0?a("div",{staticClass:"judge"},[a("h3",[e._v("三、判断题")]),e._v(" "),a("ul",{staticClass:"question-item"},e._l(e.judgeQuestions,function(t,s){return a("li",{key:t.id,staticClass:"marginB10"},[a("p",{staticClass:"question-title"},[e._v(e._s(s+1)+" 、"+e._s(t.name))]),e._v(" "),a("el-radio",{key:s,attrs:{label:"A"},model:{value:t.sanswer,callback:function(a){e.$set(t,"sanswer",a)},expression:"item.sanswer"}},[e._v("正确")]),e._v(" "),a("el-radio",{key:s,attrs:{label:"B"},model:{value:t.sanswer,callback:function(a){e.$set(t,"sanswer",a)},expression:"item.sanswer"}},[e._v("错误")])],1)}))]):e._e(),e._v(" "),e.QAQuestions.length>0?a("div",{staticClass:"judge"},[a("h3",[e._v("四、简答题")]),e._v(" "),a("ul",{staticClass:"question-item"},e._l(e.QAQuestions,function(t,s){return a("li",{key:t.id,staticClass:"marginB10"},[a("p",{staticClass:"question-title"},[e._v(e._s(s+1)+" 、"+e._s(t.name))]),e._v(" "),a("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.sanswer,callback:function(a){e.$set(t,"sanswer",a)},expression:"item.sanswer"}})],1)}))]):e._e()]),e._v(" "),e.scroll>500?a("div",{staticClass:"scroll_top",on:{click:e.scrollTop}},[a("i",{staticClass:"el-icon-caret-top"})]):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("这是一段信息")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var O=a("VU/8")(z,B,!1,function(e){a("oFpw")},"data-v-670ced4f",null).exports,P={data:()=>({data:[],datas:[],code:""}),created(){this.code=this.$route.query.institutionCode,this.init()},mounted(){this.init()},methods:{add(){this.data.push({isDistabled:!0,changeText:"修改"})},init(){r.a.get("api/param/getMessageParamByInstanceCode",{params:{instanceCode:this.code}}).then(e=>{this.data=e.data.data}).catch(e=>{})},deleteRow(e){this.data.splice(e,1)},change(e){"保存"===this.data[e].changeText?(this.data[e].isDistabled=!0,this.data[e].changeText="修改"):(this.data[e].isDistabled=!1,this.data[e].changeText="保存")}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("常量值配置")])]),e._v(" "),a("div",[a("el-table",{attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].id,callback:function(a){e.$set(e.data[t.$index],"id",a)},expression:"data[scope.$index].id"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"institutionCode",label:"机构code"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].institutionCode,callback:function(a){e.$set(e.data[t.$index],"institutionCode",a)},expression:"data[scope.$index].institutionCode"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"paramType",label:"参数类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].paramType,callback:function(a){e.$set(e.data[t.$index],"paramType",a)},expression:"data[scope.$index].paramType"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"paramName",label:"参数名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].paramName,callback:function(a){e.$set(e.data[t.$index],"paramName",a)},expression:"data[scope.$index].paramName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"paramValue",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].paramValue,callback:function(a){e.$set(e.data[t.$index],"paramValue",a)},expression:"data[scope.$index].paramValue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"memo",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].memo,callback:function(a){e.$set(e.data[t.$index],"memo",a)},expression:"data[scope.$index].memo"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"操作",width:"85px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.deleteRow(t.$index)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"保存",width:"85px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{id:"btn"},on:{click:function(a){e.change(t.$index)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("el-button",{staticClass:"el-button-add",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)])},staticRenderFns:[]};var H=a("VU/8")(P,W,!1,function(e){a("B3Hi")},"data-v-09fd43af",null).exports,L={data:()=>({fileList:[],data:[],codes:"",form:{groupName:"",groupId:""},fileName:"",update:{},dialogTableVisible:!1,rules:{groupName:[{required:!0,message:"请输入组件名",trigger:"blur"}],groupId:[{required:!0,message:"请输入组id",trigger:"blur"}]},dialogAddAndEditVisible:!1,addForm:{},resultSelect:[{label:"SUCCESS",value:"SUCCESS"},{label:"FAIL",value:"FAIL"},{label:"UNKNOWN",value:"UNKNOWN"}]}),created(){this.init()},mounted(){},methods:{init(){this.getResponseCodes(this,this.$route.query.institutionCode),r.a.get("api/code/getResponseCodeByInstanceCode",{params:{instanceCode:this.$route.query.institutionCode}}).then(e=>{this.data=e.data.data}).catch(e=>{})},handleExceed(e,t){this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+t.length} 个文件`)},beforeRemove(e,t){return this.$confirm(`确定移除 ${e.name}？`)},submitUpload(){if(console.log(this.form.groupName),""==this.form.groupName)return this.$message.warning("请输入组名"),!1;if(""==this.form.groupId)return this.$message.warning("请输入组id"),!1;if(""==this.fileName)return this.$message.warning("请选择要上传的文件！"),!1;let e=new FormData;e.append("file",this.files,this.fileName),e.append("groupName",this.form.groupName),e.append("groupId",this.form.groupId),e.append("instanceCode",this.$route.query.institutionCode);r.a.post("/api/code/import",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{"0"===e.data.resultCode?(this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.visible=!1,this.$emit("refreshDataList")}}),this.init()):this.$message.error(e.data.resultMsg)})},beforeUpload(e){this.files=e;const t="xls"===e.name.split(".")[1],a="xlsx"===e.name.split(".")[1],s=e.size/1024/1024<5;if(t||a){if(s)return this.fileName=e.name,!1;this.$message.warning("上传模板大小不能超过 5MB!")}else this.$message.warning("上传模板只能是 xls、xlsx格式!")},add(){this.formData={},this.dialogTableVisible=!0},importErrorCode(){this.formData={},this.dialogTableVisible=!0},openEditDialog(e){this.addForm=this.data[e],this.dialogAddAndEditVisible=!0},openAddDialog(){this.addForm={},this.dialogAddAndEditVisible=!0},submitAddAndEdit(){if(void 0===this.addForm.resultCodeGroupId||""==this.addForm.resultCodeGroupId)return this.$message.warning("请选择错误码组"),!1;if(void 0===this.addForm.resultCodeGroupId||""==this.form.responseCode)return this.$message.warning("请输入外部返回错误码"),!1;if(void 0===this.addForm.responseMessage||""==this.form.responseMessage)return this.$message.warning("请输入外部返回信息！"),!1;if(void 0===this.addForm.resultCode||""==this.form.resultCode)return this.$message.warning("请输入内部返回信息！"),!1;if(void 0===this.addForm.resultMessage||""==this.form.resultMessage)return this.$message.warning("请输入内部返回信息！"),!1;if(void 0===this.addForm.transResult||""==this.form.transResult)return this.$message.warning("请输入选择处理结果！"),!1;for(var e=this.codes.length,t=0;t<e;t++)if(this.codes[t].value==this.addForm.resultCodeGroupId){this.addForm.resultCodeGroupName=this.codes[t].label;break}r.a.post("/api/code/updateAndAddResponseCode",this.addForm).then(e=>{"0"===e.data.resultCode?(this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.visible=!1,this.$emit("refreshDataList")}}),this.init()):this.$message.error(e.data.resultMsg)})}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("错误码映射配置")])]),e._v(" "),a("div",{staticClass:"errCode-btn"},[a("el-button",{staticClass:"el-button-add",attrs:{type:"primary",plain:""},on:{click:e.openAddDialog}},[e._v("添加")]),e._v(" "),a("el-button",{staticClass:"el-button-add",attrs:{type:"primary",plain:""},on:{click:e.importErrorCode}},[e._v("导入")]),e._v(" "),a("a",{attrs:{href:"api/code/downloadTemp",rel:"external nofollow"}},[a("el-button",{staticClass:"el-button-add",attrs:{type:"success",plain:""}},[e._v("下载模板")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form",staticClass:"dialog-form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"组名称:",prop:"groupName"}},[a("el-input",{attrs:{placeholder:"请输入组名称"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组id:",prop:"groupId"}},[a("el-input",{attrs:{placeholder:"请输入组id"},model:{value:e.form.groupId,callback:function(t){e.$set(e.form,"groupId",t)},expression:"form.groupId"}}),e._v(" "),a("a",{attrs:{href:"api/code/downloadTemp",rel:"external nofollow"}},[a("el-button",{staticClass:"el-button-add",attrs:{type:"primary"}},[e._v("下载模板")])],1),e._v(" "),a("el-button",{staticClass:"el-button-add",attrs:{type:"primary"},on:{click:e.importErrorCode}},[e._v("导入")]),e._v(" "),a("el-dialog",{attrs:{title:"导入",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form",staticClass:"dialog-form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"组名称:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入组名称",required:!0},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组id:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入组id",required:!0},model:{value:e.form.groupId,callback:function(t){e.$set(e.form,"groupId",t)},expression:"form.groupId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择文件:"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"doUpload",limit:1,"file-list":e.fileList,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传excel文件，且不超过5MB")]),e._v(" "),a("div",{staticClass:"el-upload-list__item-name",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.fileName))])],1),e._v(" "),a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitUpload()}}},[e._v("确定")])],1)],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增修改",visible:e.dialogAddAndEditVisible},on:{"update:visible":function(t){e.dialogAddAndEditVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"dialog-form",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"组名称:",required:!0}},[a("el-select",{model:{value:e.addForm.resultCodeGroupId,callback:function(t){e.$set(e.addForm,"resultCodeGroupId",t)},expression:"addForm.resultCodeGroupId"}},e._l(e.codes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"外部返回错误码:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入外部错误码",required:!0},model:{value:e.addForm.responseCode,callback:function(t){e.$set(e.addForm,"responseCode",t)},expression:"addForm.responseCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外部返回错误码:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入外部错误码",required:!0},model:{value:e.addForm.responseMessage,callback:function(t){e.$set(e.addForm,"responseMessage",t)},expression:"addForm.responseMessage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内部结果码:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入外部错误码",required:!0},model:{value:e.addForm.resultCode,callback:function(t){e.$set(e.addForm,"resultCode",t)},expression:"addForm.resultCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内部返回信息:",required:!0}},[a("el-input",{attrs:{placeholder:"请输入外部错误码",required:!0},model:{value:e.addForm.resultMessage,callback:function(t){e.$set(e.addForm,"resultMessage",t)},expression:"addForm.resultMessage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结果:",required:!0}},[a("el-select",{model:{value:e.addForm.transResult,callback:function(t){e.$set(e.addForm,"transResult",t)},expression:"addForm.transResult"}},e._l(e.resultSelect,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitAddAndEdit()}}},[e._v("保存")])],1)],1),e._v(" "),a("div",[a("el-table",{attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序列",width:"100px;"}}),e._v(" "),a("el-table-column",{attrs:{prop:"resultCodeGroupId",label:"所属组"}}),e._v(" "),a("el-table-column",{attrs:{prop:"resultCodeGroupName",label:"组名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transResult",label:"结果"}}),e._v(" "),a("el-table-column",{attrs:{prop:"responseCode",label:"外部返回错误码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"responseMessage",label:"外部返回信息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"resultCode",label:"内部结果码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"resultMessage",label:"内部返回信息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作",width:"85px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-button-add",attrs:{size:"small"},on:{click:function(a){e.openEditDialog(t.$index)}}},[e._v("\n                        修改\n                    ")])]}}])})],1)],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(L,Q,!1,function(e){a("eUDl")},"data-v-4c53a0d3",null).exports,G={data(){return{dialogTableVisible:!1,currentIndex:0,tableProps:[{prop:"connectType",desc:"连接类型",type:"select",dataSource:this.getSelectData("connectTypes"),required:!0},{prop:"protocolType",desc:"协议类型",type:"select",dataSource:this.getSelectData("protocolTypes"),required:!0},{prop:"protocolCode",desc:"协议编码",type:"input",required:!0},{prop:"limitCount",desc:"限流",type:"select",dataSource:this.getSelectData("limitCounts"),required:!0}],rules:[],data:[],formData:{},submitting:!1,action:"add",code:this.$route.query.institutionCode,api:"/api/protocol/addandupdate"}},created(){this.formatRules()},mounted(){this.init()},methods:{getLabelFromDataSource(e,t){const a=e.filter(e=>e.value===t);return a&&a.length?a[0].label:""},formatRules(){this.rules=this.tableProps.map(e=>(e.rule=[{required:e.required,message:"select"===e.type?`请选择${e.desc}`:`请输入${e.desc}`}],e)).reduce((e,t)=>(e[t.prop]=t.rule,e),{})},add(){this.formData={},this.dialogTableVisible=!0,this.action="add"},change(e){this.currentIndex=e,this.formData=this.data[e],this.dialogTableVisible=!0,this.action="change"},submitForm(){this.$refs.form.validate(e=>{e&&(this.submitting=!0,this.postSubmit(this.formData))})},deleteRow(e){this.multipleSelection.map(e=>{this.data.splice(this.data.indexOf(e),1)})},postSubmit(e){e.institutionCode=this.code,r.a.post(this.api,e).then(e=>{this.submitting=!1,"0"===e.data.resultCode?(this.dialogTableVisible=!1,this.data=e.data,"add"===this.action?this.$message.success("添加成功"):this.$message.success("修改成功"),this.init()):this.$message.error(e.ret_msg)},e=>{this.$message.error("请求失败，请重试"),this.submitting=!1})},init(){r.a.get("api/protocol/getInstanceProtocolByInstanceCode",{params:{instanceCode:this.code}}).then(e=>{this.data=e.data.data||[]}).catch(e=>{})},handleSelectionChange(e){this.multipleSelection=e}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("通道配置协议")])]),e._v(" "),a("div",[a("el-button",{staticClass:"el-button-add",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.deleteRow()}}},[e._v("删除")]),e._v(" "),a("el-table",{attrs:{"row-class-name":"no-hover",data:e.data,"default-sort":{prop:"connectType",order:"descending"},border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._l(e.tableProps,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.desc},scopedSlots:e._u([{key:"default",fn:function(a){return["select"===t.type?[e._v("\n                        "+e._s(e.getLabelFromDataSource(t.dataSource,a.row[t.prop]))+"\n                    ")]:[e._v(e._s(a.row[t.prop]))]]}}])})}),e._v(" "),a("el-table-column",{staticClass:"el-btn-del",attrs:{label:"操作",width:"200px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.change(t.$index)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),a("el-dialog",{attrs:{title:"表格内容",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form",staticClass:"dialog-form",attrs:{rules:e.rules,model:e.formData,"label-width":"80px"}},[e._l(e.tableProps,function(t){return a("el-form-item",{key:t.prop,attrs:{label:t.desc,prop:t.prop,required:t.required}},["input"===t.type?a("el-input",{attrs:{placeholder:"请输入"+t.desc},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}}):"select"===t.type?a("el-select",{attrs:{placeholder:"请选择"+t.desc},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}},e._l(t.dataSource,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e()],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.submitting,loading:e.submitting},on:{click:function(t){e.submitForm()}}},[e._v("保存\n                ")]),e._v(" "),a("el-button",{attrs:{disabled:e.submitting},on:{click:function(t){e.$refs.form.resetFields()}}},[e._v("重置")])],1)],2)],1)],1)},staticRenderFns:[]};var X=a("VU/8")(G,j,!1,function(e){a("gKeN"),a("nc7w")},"data-v-15928876",null).exports,K={data:()=>({data:[],datas:[],code:""}),created(){this.code=this.$route.query.institutionCode,this.init()},mounted(){this.init()},methods:{add(){this.data.push({isDistabled:!0,changeText:"修改"})},deleteRow(e){this.data.splice(e,1)},init(){r.a.get("api/param/getMessageParam",{params:{itemId:this.id}}).then(e=>{this.datas=e.data.data}).catch(e=>{})},change(e){"保存"===this.data[e].changeText?(this.data[e].isDistabled=!0,this.data[e].changeText="修改"):(this.data[e].isDistabled=!1,this.data[e].changeText="保存")}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("sequence配置")])]),e._v(" "),a("div",[a("el-table",{attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].id,callback:function(a){e.$set(e.data[t.$index],"id",a)},expression:"data[scope.$index].id"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"seq_name",label:"seq_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].seq_name,callback:function(a){e.$set(e.data[t.$index],"seq_name",a)},expression:"data[scope.$index].seq_name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"seq_value",label:"seq_value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].seq_value,callback:function(a){e.$set(e.data[t.$index],"seq_value",a)},expression:"data[scope.$index].seq_value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"min_value",label:"min_value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].min_value,callback:function(a){e.$set(e.data[t.$index],"min_value",a)},expression:"data[scope.$index].min_value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"max_value",label:"max_value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].max_value,callback:function(a){e.$set(e.data[t.$index],"max_value",a)},expression:"data[scope.$index].max_value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"step",label:"step"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].step,callback:function(a){e.$set(e.data[t.$index],"step",a)},expression:"data[scope.$index].step"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"memo"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.data[t.$index].isDistabled},model:{value:e.data[t.$index].age,callback:function(a){e.$set(e.data[t.$index],"age",a)},expression:"data[scope.$index].age"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"删除",width:"85px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.deleteRow(t.$index)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"保存",width:"85px;"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{id:"btn"},on:{click:function(a){e.change(t.$index)}}},[e._v(e._s(e.data[t.$index].changeText))])]}}])})],1),e._v(" "),a("el-button",{staticClass:"el-button-add",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)])},staticRenderFns:[]};var J=a("VU/8")(K,Z,!1,function(e){a("Q52y")},"data-v-8a28674c",null).exports,ee=a("ufP2"),te=a("IHkg"),ae=a("Doj+"),se=a("9BW/"),ie=a("yjlI"),re={name:"ElInput",componentName:"ElInput",mixins:[ee.a,te.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data(){return{currentValue:void 0===this.value||null===this.value?"":this.value,textareaCalcStyle:{},hovering:!1,focused:!1,isOnComposition:!1,valueBeforeComposition:null}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:e=>!0},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize(){return(this.elFormItem||{}).elFormItemSize},validateState(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon(){return!!this.elForm&&this.elForm.statusIcon},validateIcon(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle(){return Object(se.a)({},this.textareaCalcStyle,{resize:this.resize})},inputSize(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled(){return this.disabled||(this.elForm||{}).disabled},showClear(){return this.clearable&&!this.inputDisabled&&!this.readonly&&""!==this.currentValue&&(this.focused||this.hovering)}},watch:{value(e,t){this.setCurrentValue(e)}},methods:{focus(){(this.$refs.input||this.$refs.textarea).focus()},blur(){(this.$refs.input||this.$refs.textarea).blur()},getMigratingConfig:()=>({props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}),handleBlur(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},select(){(this.$refs.input||this.$refs.textarea).select()},resizeTextarea(){if(this.$isServer)return;const{autosize:e,type:t}=this;if("textarea"!==t)return;if(!e)return void(this.textareaCalcStyle={minHeight:Object(ae.a)(this.$refs.textarea).minHeight});const a=e.minRows,s=e.maxRows;this.textareaCalcStyle=Object(ae.a)(this.$refs.textarea,a,s)},handleFocus(e){this.focused=!0,this.$emit("focus",e)},handleComposition(e){if("compositionend"===e.type)this.isOnComposition=!1,this.currentValue=this.valueBeforeComposition,this.valueBeforeComposition=null,this.handleInput(e);else{const t=e.target.value,a=t[t.length-1]||"";this.isOnComposition=!Object(ie.a)(a),this.isOnComposition&&"compositionstart"===e.type&&(this.valueBeforeComposition=t)}},handleInput(e){const t=e.target.value;this.setCurrentValue(t),this.isOnComposition||this.$emit("input",t)},handleChange(e){this.$emit("change",e.target.value)},setCurrentValue(e){this.isOnComposition&&e===this.valueBeforeComposition||(this.currentValue=e,this.isOnComposition||(this.$nextTick(this.resizeTextarea),this.validateEvent&&this.currentValue===this.value&&this.dispatch("ElFormItem","el.form.change",[e])))},calcIconOffset(e){let t=[].slice.call(this.$el.querySelectorAll(`.el-input__${e}`)||[]);if(!t.length)return;let a=null;for(let e=0;e<t.length;e++)if(t[e].parentNode===this.$el){a=t[e];break}if(!a)return;const s={suffix:"append",prefix:"prepend"}[e];this.$slots[s]?a.style.transform=`translateX(${"suffix"===e?"-":""}${this.$el.querySelector(`.el-input-group__${s}`).offsetWidth}px)`:a.removeAttribute("style")},updateIconOffset(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear"),this.setCurrentValue("")}},created(){this.$on("inputSelect",this.select)},mounted(){this.resizeTextarea(),this.updateIconOffset()},updated(){this.$nextTick(this.updateIconOffset)}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?a("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),e._v(" "),"textarea"!==e.type?a("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},domProps:{value:e.currentValue},on:{compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e._v(" "),e.$slots.prefix||e.prefixIcon?a("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e._v(" "),e.prefixIcon?a("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e._v(" "),e.$slots.suffix||e.suffixIcon||e.showClear||e.validateState&&e.needStatusIcon?a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[e.showClear?a("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{click:e.clear}}):[e._t("suffix"),e._v(" "),e.suffixIcon?a("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()]],2),e._v(" "),e.validateState?a("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e._v(" "),e.$slots.append?a("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:a("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},domProps:{value:e.currentValue},on:{compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1))],2)},staticRenderFns:[]},le=a("VU/8")(re,oe,!1,null,null,null).exports,ne={components:{ElInput:le},data(){return{form:{instanceCode:"",transCode:"",name:"",describe:"",isFromInner:"Y",needUnique:"N",isFromInner:"1",isSync:"Y",properties:"",systemName:""},transPropertiesConfigs:this.getSelectData("transPropertiesConfigs"),codes:"",tableData:[],rules:{transCode:[{required:!0,message:"请输入交易编码",trigger:"blur"}],systemName:[{required:!0,message:"请输入系统名称",trigger:"blur"}],transName:[{required:!0,message:"请输入交易名称",trigger:"blur"}],protocolCode:[{required:!0,message:"请选择协议",trigger:"blur"}],isSync:[{required:!0,message:"请选择模式",trigger:"blur"}],needUnique:[{required:!0,message:"请选择幂等",trigger:"blur"}],isFromInner:[{required:!0,message:"请选择内部使用",trigger:"blur"}],resultCodeGroupIds:[{required:!0,message:"请选择错误码",trigger:"blur"}]},protocolCodes:[]}},created(){this.form.instanceCode=this.$route.query.institutionCode,this.getResponseCodes(this,this.$route.query.institutionCode),r.a.get("api/protocol/getInstanceProtocolByInstanceCode",{params:{instanceCode:this.form.instanceCode}}).then(e=>{this.protocolCodes=e.data.data||[]}).catch(e=>{})},methods:{init(){},onSubmit(){this.$refs.form.validate(e=>{e&&(this.form.resultCodeGroupId=this.objSplitStr(this.form.resultCodeGroupIds),this.form.properties=this.assPropertiesConfig(this.tableData,"=",";"),r.a.post("api/transCode/addOrUpdateTransCode",this.form).then(e=>{this.submitting=!1,this.$root.eventHub.$emit("onSubmit",this.form),"0"===e.data.resultCode?(this.dialogTableVisible=!1,this.data=e.data,"add"===this.action?(this.$message.success("添加成功"),this.init()):this.$message.success("修改成功")):this.$message.error(e.ret_msg)},e=>{this.$message.error("请求失败，请重试"),this.submitting=!1}))})},add(){this.tableData.push({isDistabled:!1,changeText:"保存"})},deleteRow(e){this.tableData.splice(e,1)},change(e){"保存"===this.tableData[e].changeText?(this.tableData[e].isDistabled=!0,this.tableData[e].changeText="修改"):(this.tableData[e].isDistabled=!1,this.tableData[e].changeText="保存")}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("交易接口基本信息")])]),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-ruleForm login-container",attrs:{model:e.form,prop:"form","label-width":"150px",rules:e.rules}},[a("el-form-item",{attrs:{label:"交易号",prop:"transCode"}},[a("el-input",{attrs:{placeholder:"请输入交易码，如CIB0301"},model:{value:e.form.transCode,callback:function(t){e.$set(e.form,"transCode",t)},expression:"form.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统名称",prop:"systemName"}},[a("el-input",{model:{value:e.form.systemName,callback:function(t){e.$set(e.form,"systemName",t)},expression:"form.systemName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易名称",prop:"transName"}},[a("el-input",{attrs:{placeholder:"描述"},model:{value:e.form.transName,callback:function(t){e.$set(e.form,"transName",t)},expression:"form.transName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"协议",prop:"protocolCode"}},[a("el-select",{model:{value:e.form.protocolCode,callback:function(t){e.$set(e.form,"protocolCode",t)},expression:"form.protocolCode"}},e._l(e.protocolCodes,function(t){return a("el-option",{key:t.protocolCode,attrs:{label:t.protocolCode,value:t.protocolCode}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.protocolCode))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.protocolType))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模式选择",prop:"isSync"}},[a("el-radio-group",{model:{value:e.form.isSync,callback:function(t){e.$set(e.form,"isSync",t)},expression:"form.isSync"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("同步")]),e._v(" "),a("el-radio",{attrs:{label:"N"}},[e._v("异步")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"幂等选择",prop:"needUnique"}},[a("el-radio-group",{model:{value:e.form.needUnique,callback:function(t){e.$set(e.form,"needUnique",t)},expression:"form.needUnique"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("支持")]),e._v(" "),a("el-radio",{attrs:{label:"N"}},[e._v("不支持")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"内部使用",prop:"isFromInner"}},[a("el-radio-group",{model:{value:e.form.isFromInner,callback:function(t){e.$set(e.form,"isFromInner",t)},expression:"form.isFromInner"}},[a("el-radio",{attrs:{label:"0"}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"错误码映射",prop:"resultCodeGroupIds"}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.resultCodeGroupIds,callback:function(t){e.$set(e.form,"resultCodeGroupIds",t)},expression:"form.resultCodeGroupIds"}},e._l(e.codes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{ref:"tableData",attrs:{label:"个性化属性",model:e.tableData,rules:e.rules}},[a("div",[a("el-table",{staticClass:"el-table-none",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"属性名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:e.tableData[t.$index].isDistabled},model:{value:e.tableData[t.$index].key,callback:function(a){e.$set(e.tableData[t.$index],"key",a)},expression:"tableData[scope.$index].key"}},e._l(e.transPropertiesConfigs,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.tableData[t.$index].isDistabled},model:{value:e.tableData[t.$index].value,callback:function(a){e.$set(e.tableData[t.$index],"value",a)},expression:"tableData[scope.$index].value"}})]}}])}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{id:"btn"},on:{click:function(a){e.change(t.$index)}}},[e._v(e._s(e.tableData[t.$index].changeText)+"\n                            ")]),e._v(" "),a("el-button",{on:{click:function(a){e.deleteRow(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-button",{staticClass:"el-button-new",attrs:{type:"primary"},on:{click:e.add}},[e._v("新增字段")])],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(ne,de,!1,function(e){a("rfi7")},"data-v-8e193324",null).exports,ce={components:{ElInput:le},data(){return{form:{transCode:"",transName:"",isSync:"",needUnique:"",resultCodeGroupId:"",properties:"",instanceCode:""},codes:"",tableData:[],transPropertiesConfigs:this.getSelectData("transPropertiesConfigs")}},created(){this.form.instanceCode=this.$route.query.institutionCode,this.getResponseCodes(this,this.$route.query.institutionCode),this.init()},methods:{init(){r.a.get("api/transCode/getTransCodeByCode",{params:{transCode:this.$route.query.transCode}}).then(e=>{this.form.institutionCode=e.data.data.institutionCode,this.form.transCode=e.data.data.transCode,this.form.transName=e.data.data.transName,this.form.id=e.data.data.id,this.form.needUnique=e.data.data.needUnique,this.form.isSync=e.data.data.isSync,""!=e.data.data.resultCodeGroupId&&(this.form.resultCodeGroupIds=this.strSplitArray(e.data.data.resultCodeGroupId)),""!=this.form.properties&&(this.tableData=this.parsePropertiesConfig(this.form.properties,"=",";"))}).catch(e=>{})},onSubmit(){this.form.resultCodeGroupId=this.objSplitStr(this.form.resultCodeGroupIds),this.form.properties=this.assPropertiesConfig(this.tableData,"=",";"),this.form.instanceCode=this.$route.query.institutionCode,this.form.systemName=this.$route.query.institutionCode,r.a.post("api/transCode/addOrUpdateTransCode",this.form).then(e=>{this.submitting=!1,"0"===e.data.resultCode?(this.dialogTableVisible=!1,this.data=e.data,"add"===this.action?this.$message.success("添加成功"):this.$message.success("修改成功"),this.init()):this.$message.error(e.ret_msg)},e=>{this.$message.error("请求失败，请重试"),this.submitting=!1})},add(){this.tableData.push({isDistabled:!1,changeText:"保存"})},deleteRow(e){this.tableData.splice(e,1)},change(e){"保存"===this.tableData[e].changeText?(this.tableData[e].isDistabled=!0,this.tableData[e].changeText="修改"):(this.tableData[e].isDistabled=!1,this.tableData[e].changeText="保存")}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("交易接口基本信息")])]),e._v(" "),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{placeholder:"请输入交易码"},model:{value:e.form.transCode,callback:function(t){e.$set(e.form,"transCode",t)},expression:"form.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易名称"}},[a("el-input",{attrs:{placeholder:"请输入交易码，如 兴业银行借记卡支付接口"},model:{value:e.form.transName,callback:function(t){e.$set(e.form,"transName",t)},expression:"form.transName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易模式选择"}},[a("el-radio-group",{model:{value:e.form.isSync,callback:function(t){e.$set(e.form,"isSync",t)},expression:"form.isSync"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("同步")]),e._v(" "),a("el-radio",{attrs:{label:"N"}},[e._v("外部回执")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"幂等选择"}},[a("el-radio-group",{model:{value:e.form.needUnique,callback:function(t){e.$set(e.form,"needUnique",t)},expression:"form.needUnique"}},[a("el-radio",{attrs:{label:"Y"}},[e._v("Y")]),e._v(" "),a("el-radio",{attrs:{label:"N"}},[e._v("N")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"错误码映射"}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.resultCodeGroupIds,callback:function(t){e.$set(e.form,"resultCodeGroupIds",t)},expression:"form.resultCodeGroupIds"}},e._l(e.codes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{ref:"tableData",attrs:{label:"个性化属性",model:e.tableData}},[a("div",[a("el-table",{staticClass:"el-table-none",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"属性名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:e.tableData[t.$index].isDistabled,required:"true"},model:{value:e.tableData[t.$index].key,callback:function(a){e.$set(e.tableData[t.$index],"key",a)},expression:"tableData[scope.$index].key"}},e._l(e.transPropertiesConfigs,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.tableData[t.$index].isDistabled},model:{value:e.tableData[t.$index].value,callback:function(a){e.$set(e.tableData[t.$index],"value",a)},expression:"tableData[scope.$index].value"}})]}}])}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{id:"btn"},on:{click:function(a){e.change(t.$index)}}},[e._v(e._s(e.tableData[t.$index].changeText)+"\n                            ")]),e._v(" "),a("el-button",{on:{click:function(a){e.deleteRow(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-button",{staticClass:"el-button-new",attrs:{type:"primary"},on:{click:e.add}},[e._v("新增字段")])],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交申请")])],1)],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(ce,me,!1,function(e){a("dzTs")},"data-v-526da8c4",null).exports,he={data:()=>({code:0}),created(){this.code=this.$route.query.institutionCode},mounted(){this.arrow2(0,0,110,233,84,233),this.arrow2(0,0,110,233,170,150),this.arrow2(0,0,110,233,170,340),this.arrow2(0,0,335,150,600,150),this.arrow2(0,0,420,340,340,340),this.arrow2(0,0,610,340,513,340),this.arrow2(0,0,650,150,650,220),this.arrow2(0,0,650,240,650,325),this.arrow2(0,0,820,233,750,233),this.arrow2(0,0,820,233,840,233)},methods:{arrow2(e,t,a,s,i,r){var o=new Array(a,s),l=new Array(i,r),n=document.getElementById("clientCanvas");if(null==n)return!1;var d=n.getContext("2d");d.beginPath(),d.translate(e,t,0),d.moveTo(o[0],o[1]),d.lineTo(l[0],l[1]),d.fill(),d.stroke(),d.save(),d.translate(l[0],l[1]);var u=(l[0]-o[0])/(l[1]-o[1]);u=Math.atan(u),l[1]-o[1]>=0?d.rotate(-u):d.rotate(Math.PI-u),d.lineTo(-5,-10),d.lineTo(0,-5),d.lineTo(5,-10),d.lineTo(0,0),d.fill(),d.restore(),d.closePath()}}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-btn"},[a("el-button",{staticClass:"el-btn-inner",attrs:{type:"info",circle:"",size:"mini"}},[e._v("内部系统")]),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/valiRequest",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-req",attrs:{plain:"",size:"mini"}},[e._v("validation客户端req请求")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/valiResponse",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-res",attrs:{plain:"",size:"mini"}},[e._v("validation客户端req应答")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/assemble",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-assemble",attrs:{type:"primary",size:"mini"}},[e._v("assemble请求")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/errorMap",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-err",attrs:{plain:"",size:"mini"}},[e._v("错误码映射")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/parser",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-parser",attrs:{plain:"",size:"mini"}},[e._v("parser客户端")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/communication",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-tel",attrs:{type:"success",size:"mini"}},[e._v("communication通讯客户端")])],1),e._v(" "),a("el-button",{staticClass:"el-btn-outer",attrs:{type:"info",circle:"",size:"mini"}},[e._v("外部系统")]),e._v(" "),a("canvas",{attrs:{id:"clientCanvas",width:"1000px",height:"500px"}})],1)},staticRenderFns:[]};var be=a("VU/8")(he,ve,!1,function(e){a("ZQ4A")},null,null).exports,fe=a("E5Az");a("5IAE"),a("Xdwu"),a("THjC"),a("Kk9m"),a("fo6W"),a("TQy8"),a("U3HU"),a("dxBS"),a("soCA");var ge={components:{codemirror:fe.codemirror},data(){return{data:{transCode:"",templateContent:"",messageType:this.$route.query.messageType,id:""},cmOptions:{tabSize:4,mode:"text/javascript",theme:"solarized",lineNumbers:!0,lineWrapping:!0,extraKeys:{Ctrl:"autocomplete"},lineWiseCopyCut:!0,showCursorWhenSelection:!0,matchBrackets:!0,line:!0}}},created(){this.data.transCode=this.$route.query.transCode,this.init()},methods:{onSubmit(){r.a.post("/api/validation/addandupdate",this.data).then(e=>{"0"===e.data.resultCode&&this.$message.success("添加成功")}).catch(e=>{this.$message.success("添加异常"+e)})},init(){this.transCode=this.$route.query.transCode,r.a.get("api/validation/getValidationTempByTransCode",{params:{transCode:this.$route.query.transCode,messageType:this.$route.query.messageType}}).then(e=>{"0"===e.data.resultCode&&null!=e.data.data&&(this.data=e.data.data)}).catch(e=>{})}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("validation-字段检验")])]),e._v(" "),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.transCode,callback:function(t){e.$set(e.data,"transCode",t)},expression:"data.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"templateContent"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.templateContent,callback:function(t){e.$set(e.data,"templateContent",t)},expression:"data.templateContent"}})],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Ce=a("VU/8")(ge,_e,!1,function(e){a("/SRA")},"data-v-7d5ffa65",null).exports;a("5IAE"),a("Xdwu"),a("THjC"),a("Kk9m"),a("fo6W"),a("TQy8"),a("U3HU"),a("dxBS"),a("soCA");var ye={components:{codemirror:fe.codemirror},data(){return{id:0,data:{id:"",templateContent:"",messageType:this.$route.query.messageType,transCode:this.transCode},cmOptions:{tabSize:4,mode:"text/javascript",theme:"solarized",lineNumbers:!0,lineWrapping:!0,extraKeys:{Ctrl:"autocomplete"},lineWiseCopyCut:!0,showCursorWhenSelection:!0,matchBrackets:!0,line:!0}}},created(){this.data.transCode=this.$route.query.transCode,this.init()},methods:{onSubmit(){r.a.post("/api/validation/addandupdate",this.data).then(e=>{"0"===e.data.resultCode&&this.$message.success("成功")}).catch(e=>{this.$message.success("异常"+e)})},init(){r.a.get("api/validation/getValidationTempByTransCode",{params:{transCode:this.$route.query.transCode,messageType:this.$route.query.messageType}}).then(e=>{void 0!=e.data.data&&(this.data=e.data.data)}).catch(e=>{})}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("validation-字段检验")])]),e._v(" "),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.transCode,callback:function(t){e.$set(e.data,"transCode",t)},expression:"data.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模版内容"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.templateContent,callback:function(t){e.$set(e.data,"templateContent",t)},expression:"data.templateContent"}})],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var $e=a("VU/8")(ye,xe,!1,function(e){a("yb8i")},"data-v-5363e382",null).exports;a("5IAE"),a("Xdwu"),a("THjC"),a("Kk9m"),a("fo6W"),a("TQy8"),a("U3HU"),a("dxBS"),a("soCA");var ke={components:{codemirror:fe.codemirror},data(){return{templateTypes:this.getSelectData("tempTypes"),id:0,data:{id:"",templateType:"",templateContent:"",subTemplate1:"",subTemplate2:"",headerTemplate:"",institutionCode:"",messageType:this.$route.query.messageType},templateType:"",cmOptions:{tabSize:4,mode:"text/javascript",theme:"solarized",lineNumbers:!0,lineWrapping:!0,extraKeys:{Ctrl:"autocomplete"},lineWiseCopyCut:!0,showCursorWhenSelection:!0,matchBrackets:!0,line:!0}}},created(){this.init()},mounted(){this.init()},methods:{onSubmit(){r.a.post("/api/temp/addAndupdateAssembleTemplate",this.data).then(e=>{"0"===e.data.resultCode&&this.$message.success("添加成功")}).catch(e=>{this.$message.success("添加异常"+e)})},init(){r.a.get("api/temp/getAssembleTemplateByTransCode",{params:{transCode:this.$route.query.transCode,messageType:this.$route.query.messageType}}).then(e=>{void 0!=e.data.data&&(this.data=e.data.data,this.data.institutionCode=this.$route.query.institutionCode)}).catch(e=>{}),this.data.transCode=this.$route.query.transCode,this.data.institutionCode=this.$route.query.institutionCode}}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("Assemble-银行报文拼接")])]),e._v(" "),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.transCode,callback:function(t){e.$set(e.data,"transCode",t)},expression:"data.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.data.templateType,callback:function(t){e.$set(e.data,"templateType",t)},expression:"data.templateType"}},e._l(e.templateTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模版内容"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.templateContent,callback:function(t){e.$set(e.data,"templateContent",t)},expression:"data.templateContent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子模版1"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.subTemplate1,callback:function(t){e.$set(e.data,"subTemplate1",t)},expression:"data.subTemplate1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子模版2"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.subTemplate2,callback:function(t){e.$set(e.data,"subTemplate2",t)},expression:"data.subTemplate2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求头模版"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.headerTemplate,callback:function(t){e.$set(e.data,"headerTemplate",t)},expression:"data.headerTemplate"}})],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var Se=a("VU/8")(ke,Te,!1,function(e){a("x5cD")},"data-v-8bf4c67e",null).exports,we={components:{ElInput:le},data:()=>({codes:[],form:{transCode:"",isFromInner:1,resultCodeGroupIds:[]},textarea:"",value:""}),created(){this.getResponseCodes(this,this.$route.query.institutionCode),this.form.systemName=this.$route.query.institutionCode,this.form.instanceCode=this.$route.query.institutionCode,r.a.get("api/transCode/getTransCodeByCode",{params:{transCode:this.$route.query.transCode}}).then(e=>{this.form.transCode=e.data.data.transCode,this.form.transName=e.data.data.transName,this.form.id=e.data.data.id,this.form.resultCodeGroupIds=this.strSplitArray(e.data.data.resultCodeGroupId)}).catch(e=>{})},methods:{onSubmit(){this.form.resultCodeGroupId=this.objSplitStr(this.form.resultCodeGroupIds),r.a.post("api/transCode/addOrUpdateTransCode",this.form).then(e=>{this.submitting=!1,"0"===e.data.resultCode?(this.data=e.data,"add"===this.action?this.$message.success("添加成功"):this.$message.success("修改成功"),this.init()):this.$message.error(e.ret_msg)},e=>{this.$message.error("请求失败，请重试"),this.submitting=!1})}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("responseCode-银行返回码映射")])]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.transCode,callback:function(t){e.$set(e.form,"transCode",t)},expression:"form.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"错误码映射"}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.resultCodeGroupIds,callback:function(t){e.$set(e.form,"resultCodeGroupIds",t)},expression:"form.resultCodeGroupIds"}},e._l(e.codes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var Fe=a("VU/8")(we,qe,!1,function(e){a("g26k")},"data-v-76d25e57",null).exports;a("5IAE"),a("Xdwu"),a("THjC"),a("Kk9m"),a("fo6W"),a("TQy8"),a("U3HU"),a("dxBS"),a("soCA");var De={components:{codemirror:fe.codemirror},data(){return{data:{id:"",transCode:"",institutionCode:"",groovyClassName:"",groovyContent:"",direction:this.$route.query.direction,memo:""},cmOptions:{tabSize:4,mode:"text/javascript",theme:"solarized",lineNumbers:!0,lineWrapping:!0,extraKeys:{Ctrl:"autocomplete"},lineWiseCopyCut:!0,showCursorWhenSelection:!0,matchBrackets:!0,line:!0}}},created(){this.init()},methods:{onSubmit(){r.a.post("/api/parser/addAndUpdateParserTemplate",this.data).then(e=>{"0"===e.data.resultCode&&this.$message.success("添加成功")}).catch(e=>{this.$message.success("添加异常"+e)})},init(){this.data.transCode=this.$route.query.transCode,this.data.institutionCode=this.$route.query.institutionCode,r.a.get("api/parser/getParserTempByTransCode",{params:{transCode:this.$route.query.transCode,direction:this.$route.query.direction}}).then(e=>{void 0!=e.data.data&&(this.data=e.data.data)}).catch(e=>{})}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("groavy-处理银行返回报文")])]),e._v(" "),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"机构号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.institutionCode,callback:function(t){e.$set(e.data,"institutionCode",t)},expression:"data.institutionCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.transCode,callback:function(t){e.$set(e.data,"transCode",t)},expression:"data.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"groavy类名"}},[a("el-input",{model:{value:e.data.groovyClassName,callback:function(t){e.$set(e.data,"groovyClassName",t)},expression:"data.groovyClassName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"memo"}},[a("el-input",{model:{value:e.data.memo,callback:function(t){e.$set(e.data,"memo",t)},expression:"data.memo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模版内容"}},[a("codemirror",{ref:"myCm",staticClass:"el-form-codemirror",attrs:{options:e.cmOptions},model:{value:e.data.groovyContent,callback:function(t){e.$set(e.data,"groovyContent",t)},expression:"data.groovyContent"}})],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Ee=a("VU/8")(De,Ie,!1,function(e){a("VuY+")},"data-v-b420f096",null).exports,Ne={data(){return{data:{transCode:"",protocolCode:"",uri:"",timeout:"",charset:"",recvDataType:"",sendDataType:"",properties:""},transCode:"",sendDataTypes:this.getSelectData("sendDataTypes"),propertiesConfigs:this.getSelectData("propertiesConfigs"),tableData:[],protocolCodes:[]}},created(){this.init()},methods:{onSubmit(){this.data.properties=this.assPropertiesConfig(this.tableData,"=",";"),r.a.post("/api/communication/addandupdate",this.data).then(e=>{"0"===e.data.resultCode&&this.$message.success("添加成功")}).catch(e=>{this.$message.success("添加异常"+e)})},init(){this.data.transCode=this.$route.query.transCode,this.data.instanceCode=this.$route.query.institutionCode,r.a.get("api/communication/getMappingByTransCode",{params:{transCode:this.data.transCode}}).then(e=>{null!=e.data.data&&(this.data=e.data.data,this.tableData=this.parsePropertiesConfig(this.data.properties,"=",";"))}).catch(e=>{}),r.a.get("api/protocol/getInstanceProtocolByInstanceCode",{params:{instanceCode:this.data.instanceCode}}).then(e=>{this.protocolCodes=e.data.data||[]}).catch(e=>{})},add(){this.tableData.push({isDistabled:!1,changeText:"保存"})},deleteRow(e){this.tableData.splice(e,1)},change(e){"保存"===this.tableData[e].changeText?(this.tableData[e].isDistabled=!0,this.tableData[e].changeText="修改"):(this.tableData[e].isDistabled=!1,this.tableData[e].changeText="保存")}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"el-main-title"},[a("span",[e._v("CommunicationMapping-通讯配置")])]),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"交易码"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.data.transCode,callback:function(t){e.$set(e.data,"transCode",t)},expression:"data.transCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"协议号"}},[a("el-select",{model:{value:e.data.protocolCode,callback:function(t){e.$set(e.data,"protocolCode",t)},expression:"data.protocolCode"}},e._l(e.protocolCodes,function(t){return a("el-option",{key:t.protocolCode,attrs:{label:t.protocolCode,value:t.protocolCode}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.protocolCode))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.protocolType))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"字符集"}},[a("el-input",{attrs:{placeholder:"请输入银行字符编码"},model:{value:e.data.charset,callback:function(t){e.$set(e.data,"charset",t)},expression:"data.charset"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"uri"}},[a("el-input",{attrs:{placeholder:"请输入银行报文交易URL"},model:{value:e.data.uri,callback:function(t){e.$set(e.data,"uri",t)},expression:"data.uri"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超时时间"}},[a("el-input",{model:{value:e.data.timeout,callback:function(t){e.$set(e.data,"timeout",t)},expression:"data.timeout"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"recv接收数据格式"}},[a("el-select",{model:{value:e.data.recvDataType,callback:function(t){e.$set(e.data,"recvDataType",t)},expression:"data.recvDataType"}},e._l(e.sendDataTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"send发动数据格式"}},[a("el-select",{model:{value:e.data.sendDataType,callback:function(t){e.$set(e.data,"sendDataType",t)},expression:"data.sendDataType"}},e._l(e.sendDataTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"个性化属性"}},[a("div",[a("el-table",{staticClass:"el-table-none",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"参数名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:e.tableData[t.$index].isDistabled},model:{value:e.tableData[t.$index].key,callback:function(a){e.$set(e.tableData[t.$index],"key",a)},expression:"tableData[scope.$index].key"}},e._l(e.propertiesConfigs,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.tableData[t.$index].isDistabled},model:{value:e.tableData[t.$index].value,callback:function(a){e.$set(e.tableData[t.$index],"value",a)},expression:"tableData[scope.$index].value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"oper"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{id:"btn"},on:{click:function(a){e.change(t.$index)}}},[e._v(e._s(e.tableData[t.$index].changeText)+"\n                            ")]),e._v(" "),a("el-button",{on:{click:function(a){e.deleteRow(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-button",{staticClass:"el-button-new",attrs:{type:"primary"},on:{click:e.add}},[e._v("新增字段")])],1),e._v(" "),a("el-form-item",{staticClass:"el-form-item-btn"},[a("router-link",{attrs:{to:{path:"/aside/routeConfiguration",query:{transCode:this.$route.query.transCode,institutionCode:e.$route.query.institutionCode}}}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v("返回上页")])],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(Ne,Re,!1,function(e){a("aOVi")},"data-v-bff09734",null).exports,Me={data:()=>({userName:"",passWord:"",logoSrc:a("LJ2z")}),methods:{submit(){""!=this.userName&&""!=this.passWord?this.$axios.post("/api/login",{username:this.userName,password:this.passWord}).then(e=>{let t=e.data;200===t.code?(this.$message({showClose:!0,message:"登录成功！",type:"success"}),this.$router.push({path:"/aside",name:"aside"}),this.$mySessionStorage.set("currentUser",t.result,"json")):(this.$message({showClose:!0,message:"用户名或密码错误！",type:"warning"}),this.password="")}).catch(e=>{this.$message({showClose:!0,message:"登录失败，请稍后再试！",type:"warning"})}):this.$message.error("请输入用户名或密码！")}},mounted(){new E({canvasContainerID:"canvas",circleColor:"rgba(255,128,0,1)",lineColor:"rgba(255,159,64,1)",canvasOpacity:.3})}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_page"},[a("div",{staticClass:"login-page-inner"},[a("div",{staticClass:"input-text-wrapper"},[a("div",{staticClass:"login-logo marginB10"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.logoSrc,expression:"logoSrc"}],attrs:{width:"300",alt:"logo"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入账号"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),a("el-input",{staticClass:"marginT10",attrs:{placeholder:"请输入密码",type:"password"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1),e._v(" "),a("div",{staticClass:"input-text-wrapper marginT30 text-center"},[a("el-button",{staticClass:"loginBtn",attrs:{type:"warning"},on:{click:e.submit}},[e._v("登录")])],1),e._v(" "),a("div",{staticClass:"marginT20"},[a("router-link",{staticClass:"note",attrs:{to:"/frontregister"}},[e._v("注册账号")]),e._v(" "),a("router-link",{staticClass:"note  pull-right",attrs:{to:"/managelogin"}},[e._v("科研人员登录")])],1)]),e._v(" "),a("div",{attrs:{id:"canvas"}})])},staticRenderFns:[]};var Ue=a("VU/8")(Me,Ve,!1,function(e){a("SUZC")},"data-v-fae2f756",null).exports,ze={name:"404",data:()=>({logining:!1,checked:!0}),methods:{onSubmit(){}}},Be={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticStyle:{height:"100%"}},[t("el-main",[this._v("\n        迷路了\n    ")])],1)},staticRenderFns:[]},Oe=a("VU/8")(ze,Be,!1,null,null,null).exports,Pe={data(){return{code:this.$route.query.institutionCode}},created(){},mounted(){this.arrow2(0,0,110,233,84,233),this.arrow2(0,0,110,233,170,165),this.arrow2(0,0,110,233,175,323),this.arrow2(0,0,220,150,378,150),this.arrow2(0,0,490,150,628,150),this.arrow2(0,0,350,340,268,340),this.arrow2(0,0,480,340,420,340),this.arrow2(0,0,710,340,615,340),this.arrow2(0,0,720,150,720,220),this.arrow2(0,0,720,240,720,325),this.arrow2(0,0,900,233,850,233),this.arrow2(0,0,850,233,890,233)},methods:{arrow2(e,t,a,s,i,r){var o=new Array(a,s),l=new Array(i,r),n=document.getElementById("serverCanvas");if(null==n)return!1;var d=n.getContext("2d");d.beginPath(),d.translate(e,t,0),d.moveTo(o[0],o[1]),d.lineTo(l[0],l[1]),d.fill(),d.stroke(),d.save(),d.translate(l[0],l[1]);var u=(l[0]-o[0])/(l[1]-o[1]);u=Math.atan(u),l[1]-o[1]>=0?d.rotate(-u):d.rotate(Math.PI-u),d.lineTo(-5,-10),d.lineTo(0,-5),d.lineTo(5,-10),d.lineTo(0,0),d.fill(),d.restore(),d.closePath()}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-btn c-server-config"},[a("el-button",{staticClass:"el-btn-outer",attrs:{type:"info",circle:"",size:"mini"}},[e._v("外部系统")]),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/parser",query:{institutionCode:e.code,transCode:e.$route.query.transCode,direction:"SERVER"}}}},[a("el-button",{staticClass:"el-btn-server-parser",attrs:{plain:"",size:"mini"}},[e._v("parser请求")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/valiRequest",query:{institutionCode:e.code,transCode:e.$route.query.transCode,messageType:"REQ_MSG"}}}},[a("el-button",{staticClass:"el-btn-req",attrs:{plain:"",size:"mini"}},[e._v("validation参数")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/assemble",query:{institutionCode:e.code,transCode:e.$route.query.transCode,messageType:"REQ"}}}},[a("el-button",{staticClass:"el-btn-assemble",attrs:{type:"primary",size:"mini"}},[e._v("assemble内部请求")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/communication",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-tel",attrs:{type:"success",size:"mini"}},[e._v("communication通讯配置")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/parser",query:{institutionCode:e.code,transCode:e.$route.query.transCode,direction:"CLIENT"}}}},[a("el-button",{staticClass:"el-btn-parser",attrs:{plain:"",size:"mini"}},[e._v("parser内部返回")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/valiResponse",query:{institutionCode:e.code,transCode:e.$route.query.transCode,messageType:"REQ_RESULT"}}}},[a("el-button",{staticClass:"el-btn-res",attrs:{plain:"",size:"mini"}},[e._v("validation内部参数")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/errorMap",query:{institutionCode:e.code,transCode:e.$route.query.transCode}}}},[a("el-button",{staticClass:"el-btn-err",attrs:{plain:"",size:"mini"}},[e._v("错误码映射")])],1),e._v(" "),a("router-link",{attrs:{to:{path:"/aside/assemble",query:{institutionCode:e.code,transCode:e.$route.query.transCode,messageType:"RESP"}}}},[a("el-button",{staticClass:"el-btn-outer-assemble",attrs:{type:"primary",size:"mini"}},[e._v("assemble外部返回")])],1),e._v(" "),a("el-button",{staticClass:"el-btn-inner",attrs:{type:"info",circle:"",size:"mini"}},[e._v("内部系统")]),e._v(" "),a("canvas",{attrs:{id:"serverCanvas",width:"1000px",height:"500px"}})],1)},staticRenderFns:[]};var He=a("VU/8")(Pe,We,!1,function(e){a("hmLJ")},null,null).exports,Le={data:()=>({userForm:{userName:"",passWord:"",userId:"",sex:"",age:"",name:""},rules:{userId:[{required:!0,message:"请输入学号",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入数字"}],userName:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],grade:[{required:!0,message:"请输入年级",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入数字"}],class:[{required:!0,message:"请输入班级",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入数字"}],passWord:[{required:!0,message:"请输入账号密码",trigger:"blur"},{min:6,max:20,message:"密码长度6~20",trigger:"change"},{pattern:/^[A-Za-z0-9]+$/,message:"只能输入数字或字母"}]}}),methods:{submit(){this.$axios.post("/api/studentregister",{userInfo:this.userForm}).then(e=>{"0"==e.data.status&&(this.$message({showClose:!0,message:"恭喜你，注册成功！",type:"success"}),this.$router.push("/"))}).catch(e=>{this.$message({showClose:!0,message:"注册失败，请稍后再试！",type:"warning"})})}}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_page"},[a("div",{staticClass:"login-page-inner"},[a("div",{staticClass:"input-text-wrapper"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号：",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入您的身份证号"},model:{value:e.userForm.userId,callback:function(t){e.$set(e.userForm,"userId",t)},expression:"userForm.userId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-input",{attrs:{placeholder:"请输入您的性别"},model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,"sex",t)},expression:"userForm.sex"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄：",prop:"age"}},[a("el-input",{attrs:{placeholder:"请输入您的年龄"},model:{value:e.userForm.age,callback:function(t){e.$set(e.userForm,"age",t)},expression:"userForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号名：",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号密码：",prop:"passWord"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.userForm.passWord,callback:function(t){e.$set(e.userForm,"passWord",t)},expression:"userForm.passWord"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"input-text-wrapper marginT30 text-center"},[a("el-button",{staticClass:"registerBtn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("注册")]),e._v(" "),a("router-link",{staticClass:"pull-right",attrs:{to:"/login"}},[a("el-button",{staticClass:"loginBtn",attrs:{type:"primary"}},[e._v("去登录")])],1)],1)])])},staticRenderFns:[]};var Ye=a("VU/8")(Le,Qe,!1,function(e){a("lBRr")},"data-v-027559dd",null).exports;s.default.use(C.a);const Ge=[{path:"/index",name:"index",component:T,children:[{path:"/frontregister",name:"frontregister",component:Ye}]},{path:"/login",name:"login",component:Ue},{path:"/managelogin",name:"managelogin",component:A},{path:"/aside",name:"aside",mode:"history",base:"/ttms/",component:U,props:!0,children:[{path:"/aside/adExamOne",component:O},{path:"/aside/basePersionalInformation",component:q},{path:"/aside/articlePath",component:I},{path:"/aside/constantValue",component:H,meta:{requiresAuth:!0}},{path:"/aside/errorCode",component:Y,meta:{requiresAuth:!0}},{path:"/aside/protocol",component:X,meta:{requiresAuth:!0}},{path:"/aside/sequence",component:J,meta:{requiresAuth:!0}},{path:"/aside/newInterface",component:ue,meta:{requiresAuth:!0}},{path:"/aside/essentialInformation",component:pe,meta:{requiresAuth:!0}},{path:"/aside/routeConfiguration",component:be,meta:{requiresAuth:!0}},{path:"/aside/serverRouteConfiguration",component:He,meta:{requiresAuth:!0}},{path:"/aside/valiRequest",component:Ce,meta:{requiresAuth:!0}},{path:"/aside/valiResponse",component:$e,meta:{requiresAuth:!0}},{path:"/aside/assemble",component:Se,meta:{requiresAuth:!0}},{path:"/aside/errorMap",component:Fe,meta:{requiresAuth:!0}},{path:"/aside/parser",component:Ee,meta:{requiresAuth:!0}},{path:"/aside/communication",component:Ae,meta:{requiresAuth:!0}}]},{path:"/frontregister",name:"FrontRegister",component:Ye},{path:"/",redirect:"login"},{path:"/404",name:"notFound",component:Oe},{path:"*",redirect:"/404"}];var je=new C.a({routes:Ge}),Xe=a("zL8q"),Ke=a.n(Xe),Ze=a("cTzj"),Je=a.n(Ze),et=(a("tvR6"),a("3gIh")),tt=a.n(et),at={install(e,t){e.prototype.getRule=function(e){return st}}};const st={institutionCode:[{required:!0,message:"请输入机构编码",trigger:"blur"}],institutionName:[{required:!0,message:"请输入机构名称",trigger:"blur"}],memo:[{required:!0,message:"请输入接口人",trigger:"blur"}],connectType:[{required:!0,message:"链接类型必填",trigger:"blur"}],protocolType:[{required:!0,message:"协议类型必填",trigger:"blur"}],limitCount:[{required:!0,message:"限流必填",trigger:"blur"}]};var it={install(e,t){e.prototype.getValidationTempByTransCode=function(e){r.a.get("api/validation/getValidationTempByTransCode",{params:{transCode:this.$route.query.transCode,messageType:"REQ"}}).then(e=>e.data.data).catch(e=>{})},e.prototype.getResponseCodes=function(e,t){r.a.get("api/code/getAllResponseGroup",{params:{instanceCode:t}}).then(t=>{e.codes=t.data.data})}}},rt={install(e,t){e.prototype.parsePropertiesConfig=function(e,t,a){if(void 0==e||0==e.length)return"";for(var s=new Array,i=e.split(a),r=0;r<i.length;r++)if(""!=i[r]){var o=i[r].split(t);s.push({key:o[0],value:o[1],isDistabled:!0,changeText:"修改"})}return s},e.prototype.assPropertiesConfig=function(e,t,a){if(void 0==e||0==e.length)return"";for(var s=e.length,i="",r=0;r<s;r++)i+=this.tableData[r].key+t+this.tableData[r].value+a;return i},e.prototype.strSplitArray=function(e){return void 0==e||0==e.length?{}:e.split(",")},e.prototype.objSplitStr=function(e){return void 0==e||0==e.length?"":Array.of(e).toString()}}};a("4/hK");var ot={data:{authenticated:!1},getAuthHeader:()=>({Authorization:"Bearer "+localStorage.getItem("token")}),checkAuth(e){var t=localStorage.getItem("token");this.authenticated=!!t}};s.default.use(fe.codemirror),s.default.use(Ke.a),s.default.use(Je.a,{loading:"static/loading-svg/loading-bars.svg",try:1}),ot.checkAuth(),s.default.prototype.$axios=r.a,s.default.config.productionTip=!1,r.a.defaults.baseURL="https://localhost:8888/api",r.a.defaults.root="/api",new s.default({el:"#app",router:je,data:{eventHub:new s.default},components:{App:_},template:"<App/>"}),s.default.use(tt.a),s.default.use(o),s.default.use(at),s.default.use(it),s.default.use(rt)},Q52y:function(e,t){},SUZC:function(e,t){},"VuY+":function(e,t){},XP4N:function(e,t){},Xdwu:function(e,t){},ZQ4A:function(e,t){},aOVi:function(e,t){},"dLd/":function(e,t,a){e.exports=a.p+"static/img/logo.e9c38a6.png"},dzTs:function(e,t){},eUDl:function(e,t){},erWL:function(e,t){},g26k:function(e,t){},gKeN:function(e,t){},hmLJ:function(e,t){},lBRr:function(e,t){},nc7w:function(e,t){},oFpw:function(e,t){},q2mw:function(e,t){},rfi7:function(e,t){},tvR6:function(e,t){},uzjV:function(e,t){},wZyX:function(e,t){},x5cD:function(e,t){},yb8i:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b65015f044d62073ffb5.js.map